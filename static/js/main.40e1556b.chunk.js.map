{"version":3,"sources":["App.js","index.js"],"names":["Form","url","handleChange","handleClick","error","className","type","aria-label","placeholder","value","onChange","onClick","Card","card","useState","copied","setCopied","hashId","navigator","clipboard","writeText","App","setUrl","setError","localData","localStorage","getItem","JSON","parse","cards","setCards","useEffect","setItem","stringify","e","target","match","isValid","fetch","method","headers","body","then","response","json","hashid","map","index","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qNAEA,SAASA,EAAT,GAA0D,IAA1CC,EAAyC,EAAzCA,IAAKC,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,YAAaC,EAAS,EAATA,MAC9C,OACE,yBAAKC,UAAWD,EAAQ,mBAAqB,QAC3C,2BACEC,UAAWD,EAAQ,iCAAmC,cACtDE,KAAK,OACLC,aAAW,MACXC,YAAY,yBACZC,MAAOR,EACPS,SAAUR,IAEXE,GAAS,uBAAGC,UAAU,uBAAuBD,GAC9C,4BAAQO,QAASR,EAAaE,UAAU,sBAAxC,gBAON,SAASO,EAAT,GAAyB,IAATC,EAAQ,EAARA,KAAQ,EACMC,oBAAS,GADf,mBACfC,EADe,KACPC,EADO,KAQtB,OACE,yBAAKX,UAAU,cACb,uBAAGA,UAAU,mBAAmBQ,EAAKZ,KACrC,yBAAKI,UAAU,oBACf,uBAAGA,UAAU,kBAAb,0BAAkDQ,EAAKI,SACvD,4BACEN,QAXa,WACjBK,GAAU,GACVE,UAAUC,UAAUC,UAApB,0BAAiDP,EAAKI,UAUlDZ,UAAS,uCAAkCU,GAAU,gBACrDT,KAAK,UAEJS,EAAS,SAAW,SAM7B,IA6DeM,EA7DH,WAAO,IAAD,EACMP,mBAAS,IADf,mBACTb,EADS,KACJqB,EADI,OAEUR,mBAAS,IAFnB,mBAETV,EAFS,KAEFmB,EAFE,OAIUT,oBAAS,WACjC,IAAMU,EAAYC,aAAaC,QAAQ,SACvC,OAAOF,EAAYG,KAAKC,MAAMJ,GAAa,MAN7B,mBAITK,EAJS,KAIFC,EAJE,KAShBC,qBAAU,WACRN,aAAaO,QAAQ,QAASL,KAAKM,UAAUJ,MAC5C,CAACA,IAoCJ,OACE,6BACE,kBAAC7B,EAAD,CACEC,IAAKA,EACLC,aAXa,SAACgC,GAClBZ,EAAOY,EAAEC,OAAO1B,OACZyB,EAAEC,OAAO1B,OACXc,EAAS,KASPpB,YA9BU,WACd,OAVF,SAAiBF,GAGf,QADeA,EAAImC,MADL,sGASTC,CAAQpC,IAIbqC,MAAM,6BAA8B,CAClCC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMd,KAAKM,UAAU,CAAEhC,IAAKA,MAE3ByC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACE,GAAD,OAAUd,EAAS,GAAD,mBAAKD,GAAL,CAAY,CAAE5B,MAAKgB,OAAQ2B,EAAKC,cAEnDvB,EAAO,KAbLC,EAAS,sBA6BdnB,MAAOA,IAERyB,EAAMiB,KAAI,SAACjC,EAAMkC,GAAP,OACT,kBAACnC,EAAD,CAAMoC,IAAKD,EAAOlC,KAAMA,SChGhCoC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.40e1556b.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nfunction Form({ url, handleChange, handleClick, error }) {\n  return (\n    <div className={error ? \"form form--error\" : \"form\"}>\n      <input\n        className={error ? \"form__input form__input--error\" : \"form__input\"}\n        type=\"text\"\n        aria-label=\"URL\"\n        placeholder=\"Sharten a link here...\"\n        value={url}\n        onChange={handleChange}\n      />\n      {error && <p className=\"form--error-message\">{error}</p>}\n      <button onClick={handleClick} className=\"btn btn--rectangle\">\n        Shorten It!\n      </button>\n    </div>\n  );\n}\n\nfunction Card({ card }) {\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = () => {\n    setCopied(true);\n    navigator.clipboard.writeText(`https://rel.ink/${card.hashId}`);\n  };\n\n  return (\n    <div className=\"form__card\">\n      <p className=\"form__card-link\">{card.url}</p>\n      <div className=\"form__card-line\"></div>\n      <p className=\"form__card-url\">{`https://rel.ink/${card.hashId}`}</p>\n      <button\n        onClick={handleCopy}\n        className={`btn btn--rectangle btn--copy ${copied && \"btn--clicked\"}`}\n        type=\"submit\"\n      >\n        {copied ? \"copied\" : \"copy\"}\n      </button>\n    </div>\n  );\n}\n\nconst App = () => {\n  const [url, setUrl] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const [cards, setCards] = useState(() => {\n    const localData = localStorage.getItem(\"cards\");\n    return localData ? JSON.parse(localData) : [];\n  });\n\n  useEffect(() => {\n    localStorage.setItem(\"cards\", JSON.stringify(cards));\n  }, [cards]);\n\n  function isValid(url) {\n    const regex = /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g;\n    const result = url.match(regex);\n    if (result) {\n      return true;\n    }\n    return false;\n  }\n\n  const shorten = () => {\n    if (!isValid(url)) {\n      return setError(\"Please add a link\");\n    }\n\n    fetch(\"https://rel.ink/api/links/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ url: url }),\n    })\n      .then((response) => response.json())\n      .then((json) => setCards([...cards, { url, hashId: json.hashid }]));\n\n    return setUrl(\"\");\n  };\n\n  const inputValue = (e) => {\n    setUrl(e.target.value);\n    if (e.target.value) {\n      setError(\"\");\n    }\n  };\n\n  return (\n    <div>\n      <Form\n        url={url}\n        handleChange={inputValue}\n        handleClick={shorten}\n        error={error}\n      />\n      {cards.map((card, index) => (\n        <Card key={index} card={card} />\n      ))}\n    </div>\n  );\n};\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./scss/style.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}